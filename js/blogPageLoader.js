var blogData=[
{
    "id":1,
    "title":"Blog Title 1",
    "featuredImage":"images/sample-1050.jpg",
    "author":"Rohit",
    "authorImage":"/images/avatars/user-06.jpg",
    "category":["a","b","c"],
    "date":"May 7,2021",
    "tags":["d","e","f"],
    "content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vel vestibulum nisi. Duis dolor risus, auctor sit amet nibh non, fringilla varius urna. Vestibulum est ante, convallis sed lectus sed, pretium eleifend nisi. Donec congue augue a ipsum fringilla bibendum. Mauris efficitur tincidunt risus auctor posuere. Sed in magna ullamcorper, condimentum est eu, hendrerit erat. Donec eu velit id neque semper ullamcorper eu vel orci. Ut non luctus nibh, nec vehicula nulla. Proin vel pharetra nisl. Etiam erat est, congue quis semper eget, tempus quis purus. Duis eu hendrerit nisi. Nullam ac est ac tellus maximus fringilla eu ac neque. Nullam sed libero sit amet massa facilisis pharetra. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.Nulla vehicula eros dolor, a dapibus libero tristique imperdiet. Duis vel sem lorem. Duis pulvinar fringilla metus, sed hendrerit purus vehicula rhoncus. Nullam velit tortor, molestie eu convallis ac, convallis tincidunt nisi. Nulla bibendum lobortis ultricies. Duis nec odio nibh. Ut at magna purus. Quisque ut varius justo, ac pretium felis. Ut mollis metus eu rutrum volutpat. Aenean pulvinar lectus tortor, nec commodo magna facilisis accumsan. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam laoreet condimentum mi vitae tempor. Donec et consectetur nisi, ac imperdiet risus.Pellentesque pharetra lacus arcu, porta mollis justo tincidunt quis. Mauris magna tellus, bibendum sed luctus non, ullamcorper non felis. Fusce nec est arcu. Ut convallis convallis ex, maximus lacinia ex consectetur eget. Vivamus sit amet arcu lacinia, elementum nulla a, scelerisque eros. Nam tempor egestas tincidunt. Quisque convallis risus magna, a tincidunt dolor malesuada sit amet. Nullam vel lorem id metus tristique tempor sit amet quis ex. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec tempus mauris a vehicula varius. Praesent sit amet ipsum sed dui accumsan egestas tempor in lorem. Nam imperdiet eros vitae cursus maximus. Nam quis eleifend purus.Nunc ultrices nec velit at elementum. Maecenas porttitor malesuada nunc, ac fermentum elit condimentum et. Cras imperdiet, mauris in aliquet vehicula, ex arcu eleifend quam, consequat gravida ante ligula vel elit. Cras ultricies interdum dui, ac dapibus diam. Morbi elit ipsum, cursus non imperdiet in, hendrerit vitae lacus. Sed cursus consequat ultricies. Sed consectetur lorem ut nisl blandit molestie ut vel neque. Fusce pharetra in justo a lobortis.   Donec urna urna, maximus in sollicitudin vel, hendrerit vitae erat. Fusce ornare mattis odio nec ornare. Cras pellentesque enim eu ornare convallis. Fusce ac quam pharetra, semper enim eu, imperdiet dui. Aliquam cursus nec justo nec tincidunt. Vestibulum vitae velit diam. Nunc interdum nunc at risus pellentesque, nec sodales erat feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Nunc vel nulla rutrum, semper risus at, ultricies odio. Suspendisse pretium tempor tortor et euismod. Maecenas fringilla turpis lacus, et feugiat ex efficitur sit amet. Phasellus in eleifend lectus."
    
},
{
    "id":2,
    "title":"Blog Title 2",
    "featuredImage":"images/sample-1050.jpg",
    "author":"Rohit",
    "authorImage":"/images/avatars/user-06.jpg",
    "category":["g","h","i"],
    "date":"May 7,2021",
    "tags":["j","k","l"],
    "content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vel vestibulum nisi. Duis dolor risus, auctor sit amet nibh non, fringilla varius urna. Vestibulum est ante, convallis sed lectus sed, pretium eleifend nisi. Donec congue augue a ipsum fringilla bibendum. Mauris efficitur tincidunt risus auctor posuere. Sed in magna ullamcorper, condimentum est eu, hendrerit erat. Donec eu velit id neque semper ullamcorper eu vel orci. Ut non luctus nibh, nec vehicula nulla. Proin vel pharetra nisl. Etiam erat est, congue quis semper eget, tempus quis purus. Duis eu hendrerit nisi. Nullam ac est ac tellus maximus fringilla eu ac neque. Nullam sed libero sit amet massa facilisis pharetra. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.Nulla vehicula eros dolor, a dapibus libero tristique imperdiet. Duis vel sem lorem. Duis pulvinar fringilla metus, sed hendrerit purus vehicula rhoncus. Nullam velit tortor, molestie eu convallis ac, convallis tincidunt nisi. Nulla bibendum lobortis ultricies. Duis nec odio nibh. Ut at magna purus. Quisque ut varius justo, ac pretium felis. Ut mollis metus eu rutrum volutpat. Aenean pulvinar lectus tortor, nec commodo magna facilisis accumsan. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam laoreet condimentum mi vitae tempor. Donec et consectetur nisi, ac imperdiet risus.Pellentesque pharetra lacus arcu, porta mollis justo tincidunt quis. Mauris magna tellus, bibendum sed luctus non, ullamcorper non felis. Fusce nec est arcu. Ut convallis convallis ex, maximus lacinia ex consectetur eget. Vivamus sit amet arcu lacinia, elementum nulla a, scelerisque eros. Nam tempor egestas tincidunt. Quisque convallis risus magna, a tincidunt dolor malesuada sit amet. Nullam vel lorem id metus tristique tempor sit amet quis ex. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec tempus mauris a vehicula varius. Praesent sit amet ipsum sed dui accumsan egestas tempor in lorem. Nam imperdiet eros vitae cursus maximus. Nam quis eleifend purus.Nunc ultrices nec velit at elementum. Maecenas porttitor malesuada nunc, ac fermentum elit condimentum et. Cras imperdiet, mauris in aliquet vehicula, ex arcu eleifend quam, consequat gravida ante ligula vel elit. Cras ultricies interdum dui, ac dapibus diam. Morbi elit ipsum, cursus non imperdiet in, hendrerit vitae lacus. Sed cursus consequat ultricies. Sed consectetur lorem ut nisl blandit molestie ut vel neque. Fusce pharetra in justo a lobortis.   Donec urna urna, maximus in sollicitudin vel, hendrerit vitae erat. Fusce ornare mattis odio nec ornare. Cras pellentesque enim eu ornare convallis. Fusce ac quam pharetra, semper enim eu, imperdiet dui. Aliquam cursus nec justo nec tincidunt. Vestibulum vitae velit diam. Nunc interdum nunc at risus pellentesque, nec sodales erat feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Nunc vel nulla rutrum, semper risus at, ultricies odio. Suspendisse pretium tempor tortor et euismod. Maecenas fringilla turpis lacus, et feugiat ex efficitur sit amet. Phasellus in eleifend lectus."
    
},
{
    "id":3,
    "title":"Blog Title 3",
    "featuredImage":"images/sample-1050.jpg",
    "author":"Rohit",
    "authorImage":"/images/avatars/user-06.jpg",
    "category":["m","n","o"],
    "date":"May 7,2021",
    "tags":["p","q","r"],
    "content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vel vestibulum nisi. Duis dolor risus, auctor sit amet nibh non, fringilla varius urna. Vestibulum est ante, convallis sed lectus sed, pretium eleifend nisi. Donec congue augue a ipsum fringilla bibendum. Mauris efficitur tincidunt risus auctor posuere. Sed in magna ullamcorper, condimentum est eu, hendrerit erat. Donec eu velit id neque semper ullamcorper eu vel orci. Ut non luctus nibh, nec vehicula nulla. Proin vel pharetra nisl. Etiam erat est, congue quis semper eget, tempus quis purus. Duis eu hendrerit nisi. Nullam ac est ac tellus maximus fringilla eu ac neque. Nullam sed libero sit amet massa facilisis pharetra. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.Nulla vehicula eros dolor, a dapibus libero tristique imperdiet. Duis vel sem lorem. Duis pulvinar fringilla metus, sed hendrerit purus vehicula rhoncus. Nullam velit tortor, molestie eu convallis ac, convallis tincidunt nisi. Nulla bibendum lobortis ultricies. Duis nec odio nibh. Ut at magna purus. Quisque ut varius justo, ac pretium felis. Ut mollis metus eu rutrum volutpat. Aenean pulvinar lectus tortor, nec commodo magna facilisis accumsan. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam laoreet condimentum mi vitae tempor. Donec et consectetur nisi, ac imperdiet risus.Pellentesque pharetra lacus arcu, porta mollis justo tincidunt quis. Mauris magna tellus, bibendum sed luctus non, ullamcorper non felis. Fusce nec est arcu. Ut convallis convallis ex, maximus lacinia ex consectetur eget. Vivamus sit amet arcu lacinia, elementum nulla a, scelerisque eros. Nam tempor egestas tincidunt. Quisque convallis risus magna, a tincidunt dolor malesuada sit amet. Nullam vel lorem id metus tristique tempor sit amet quis ex. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec tempus mauris a vehicula varius. Praesent sit amet ipsum sed dui accumsan egestas tempor in lorem. Nam imperdiet eros vitae cursus maximus. Nam quis eleifend purus.Nunc ultrices nec velit at elementum. Maecenas porttitor malesuada nunc, ac fermentum elit condimentum et. Cras imperdiet, mauris in aliquet vehicula, ex arcu eleifend quam, consequat gravida ante ligula vel elit. Cras ultricies interdum dui, ac dapibus diam. Morbi elit ipsum, cursus non imperdiet in, hendrerit vitae lacus. Sed cursus consequat ultricies. Sed consectetur lorem ut nisl blandit molestie ut vel neque. Fusce pharetra in justo a lobortis.   Donec urna urna, maximus in sollicitudin vel, hendrerit vitae erat. Fusce ornare mattis odio nec ornare. Cras pellentesque enim eu ornare convallis. Fusce ac quam pharetra, semper enim eu, imperdiet dui. Aliquam cursus nec justo nec tincidunt. Vestibulum vitae velit diam. Nunc interdum nunc at risus pellentesque, nec sodales erat feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Nunc vel nulla rutrum, semper risus at, ultricies odio. Suspendisse pretium tempor tortor et euismod. Maecenas fringilla turpis lacus, et feugiat ex efficitur sit amet. Phasellus in eleifend lectus."
    
},
{
    "id":4,
    "title":"Blog Title 4",
    "featuredImage":"images/sample-1050.jpg",
    "author":"Rohit",
    "authorImage":"/images/avatars/user-06.jpg",
    "category":["s","t","u"],
    "date":"May 7,2021",
    "tags":["v","w","x"],
    "content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vel vestibulum nisi. Duis dolor risus, auctor sit amet nibh non, fringilla varius urna. Vestibulum est ante, convallis sed lectus sed, pretium eleifend nisi. Donec congue augue a ipsum fringilla bibendum. Mauris efficitur tincidunt risus auctor posuere. Sed in magna ullamcorper, condimentum est eu, hendrerit erat. Donec eu velit id neque semper ullamcorper eu vel orci. Ut non luctus nibh, nec vehicula nulla. Proin vel pharetra nisl. Etiam erat est, congue quis semper eget, tempus quis purus. Duis eu hendrerit nisi. Nullam ac est ac tellus maximus fringilla eu ac neque. Nullam sed libero sit amet massa facilisis pharetra. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.Nulla vehicula eros dolor, a dapibus libero tristique imperdiet. Duis vel sem lorem. Duis pulvinar fringilla metus, sed hendrerit purus vehicula rhoncus. Nullam velit tortor, molestie eu convallis ac, convallis tincidunt nisi. Nulla bibendum lobortis ultricies. Duis nec odio nibh. Ut at magna purus. Quisque ut varius justo, ac pretium felis. Ut mollis metus eu rutrum volutpat. Aenean pulvinar lectus tortor, nec commodo magna facilisis accumsan. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam laoreet condimentum mi vitae tempor. Donec et consectetur nisi, ac imperdiet risus.Pellentesque pharetra lacus arcu, porta mollis justo tincidunt quis. Mauris magna tellus, bibendum sed luctus non, ullamcorper non felis. Fusce nec est arcu. Ut convallis convallis ex, maximus lacinia ex consectetur eget. Vivamus sit amet arcu lacinia, elementum nulla a, scelerisque eros. Nam tempor egestas tincidunt. Quisque convallis risus magna, a tincidunt dolor malesuada sit amet. Nullam vel lorem id metus tristique tempor sit amet quis ex. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Donec tempus mauris a vehicula varius. Praesent sit amet ipsum sed dui accumsan egestas tempor in lorem. Nam imperdiet eros vitae cursus maximus. Nam quis eleifend purus.Nunc ultrices nec velit at elementum. Maecenas porttitor malesuada nunc, ac fermentum elit condimentum et. Cras imperdiet, mauris in aliquet vehicula, ex arcu eleifend quam, consequat gravida ante ligula vel elit. Cras ultricies interdum dui, ac dapibus diam. Morbi elit ipsum, cursus non imperdiet in, hendrerit vitae lacus. Sed cursus consequat ultricies. Sed consectetur lorem ut nisl blandit molestie ut vel neque. Fusce pharetra in justo a lobortis.   Donec urna urna, maximus in sollicitudin vel, hendrerit vitae erat. Fusce ornare mattis odio nec ornare. Cras pellentesque enim eu ornare convallis. Fusce ac quam pharetra, semper enim eu, imperdiet dui. Aliquam cursus nec justo nec tincidunt. Vestibulum vitae velit diam. Nunc interdum nunc at risus pellentesque, nec sodales erat feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Nunc vel nulla rutrum, semper risus at, ultricies odio. Suspendisse pretium tempor tortor et euismod. Maecenas fringilla turpis lacus, et feugiat ex efficitur sit amet. Phasellus in eleifend lectus."
    
}
]




var urlParams = new URLSearchParams(window.location.search);
var paramId = parseInt(urlParams.get('id')) || 1;
var postToLoadJson, blogPost, blogMaxIdObj, blogMinIdObj

const getPostMaxIdObj=(blogJson)=>{return blogJson.reduce((max, obj) => (max.id > obj.id) ? max : obj);}
const getPostMinIdObj=(blogJson)=>{return blogJson.reduce((max, obj) => (max.id < obj.id) ? max : obj);}

const getBlogPostById= (requestId)=>{
    return blogData.filter(function(element){
        if (element.id == requestId){
            return true;
        } else {
            return false;
        }
});
}


const createBlogPost=(post)=>{
var previousId,nextId,prevBlogData,nextBlogData;
if(post[0].id-1<blogMinIdObj.id){previousId=blogMaxIdObj.id}else{previousId=post[0].id-1}
if(post[0].id+1>blogMaxIdObj.id){nextId=blogMinIdObj.id}else{nextId=post[0].id+1}

prevBlogData=getBlogPostById(previousId)
nextBlogData=getBlogPostById(nextId)

    return (`<div class="container">
<div class="row">
    <div class="blogFeaturedImage col-md-12 mx-auto my-5">
    <img src="${post[0].featuredImage}" alt="">
    </div>
    <div class="blogTitle col-md-12 mx-auto my-5">
    <h1>${post[0].title} </h1>
    </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="row blogContentArea">
        <div class="blogContent col-md-8 ">
        ${post[0].content}
        </div> 
        <div class="blogMeta col-md-2 ">
        <div class="metaTop">
          <div class="authorImage">
              <img src="${post[0].authorImage}" alt="">
          </div>
          <div class="authorInfo">
            <h4 class="metaHeading">POSTED BY:</h4>
            <p>${post[0].author}</p>
          </div>
        </div>
            <div class="metaBottom">
              <div class="categories">
                  <div class="categoriesIn">
                        <h5 class="metaHeading">IN</h5>
                        <span>
                            <ul>
                               ${post[0].category.map((category,index)=>{
                                   return `<li key=${index}>${category}</li>`
                               })}
                            </ul>
                        </span>
                  </div>
                  <div class="dateOn">
            <h5 class="metaHeading">ON</h5>
                    <p> ${post[0].date}</p> 
                  </div>
              </div>
              <div class="tags">
                <h5 class="metaHeading">TAGS</h5>
                <span>
                    <ul>
                    ${post[0].tags.map((tag,index)=>{
                        return `<li key=${index}>${tag}</li>`
                    })}
                    </ul>
                </span>
              </div>
          </div>
        </div>                 
        <div class="blogNavigation col-md-2 ">
        <a href="blog-post.html?id=${previousId}"> 
            <div class="blogPrevious">
              <h5 class="metaHeading">Previous</h5>
              <p>${prevBlogData[0].title}</p>
            </div>
        </a>
        <a href="blog-post.html?id=${nextId}"> 
          <div class="blogNext">
            <h5 class="metaHeading">Next</h5>
            <p>${nextBlogData[0].title}</p>
          </div>
        </a>
        </div>
    </div>
  </div>
</div>
</div>`);
}

const renderBlog=(blog)=>{
    document.getElementById('blogPage').innerHTML=blog  
}


// fetch('../data/blog.json').then( async response=>{
    
    // blogData= await response.json();
    blogMaxIdObj=getPostMaxIdObj(blogData)
    blogMinIdObj=getPostMinIdObj(blogData)
    postToLoadJson=blogData.filter(function(element){
                if (element.id == paramId){
                    return true;
                } else {
                    return false;
                }
    });

    blogPost=createBlogPost(postToLoadJson)
    renderBlog(blogPost)
// })





